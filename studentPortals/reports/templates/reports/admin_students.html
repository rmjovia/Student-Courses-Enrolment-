{% extends "reports/admin_base.html" %}
{% block content %}

<h1 style="margin-bottom: 20px; color: #007bff;">Students Management</h1>

<div style="display: flex; flex-wrap: wrap; gap: 20px;">
    {% for entry in students_with_gpa %}
    <div class="card" style="flex: 1 1 300px; padding: 20px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); background: #f9f9f9;">
        <h3 style="margin-bottom: 10px; color: #333;">{{ entry.student.name }}</h3>
        <p><strong>Email:</strong> {{ entry.student.email }}</p>
        <p><strong>Enrolled Courses:</strong> {{ entry.student.courses.count }}</p>
        <p><strong>GPA:</strong> {{ entry.gpa|floatformat:2 }}</p>
        <p><strong>CGPA:</strong> {{ entry.cgpa|floatformat:2 }}</p>
        <a href="{% url 'student_report' entry.student.id %}" 
           style="display:inline-block; margin-top: 20px; padding:8px 10px; background:#007bff; color:white; border-radius:10px; text-decoration:none;">
           View Report
        </a>
    </div>
    {% empty %}
    <p style="color:#888;">No students found.</p>
    {% endfor %}
</div>

<br>
<a href="{% url 'admin_dashboard' %}" 
   style="display:inline-block; margin-top: 20px; padding:8px 16px; background:#007bff; color:white; border-radius:10px; text-decoration:none;">
   â† Back to Dashboard
</a>

{% endblock %}
